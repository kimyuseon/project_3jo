{% extends "base.html" %}
{% load static %}

{% block content %}
<link rel="stylesheet" href="{% static 'css/recipe_detail.css' %}">

<div class="recipe-detail-container">
    <h1 class="recipe-title">{{ recipe.title }}</h1>
    
    <div class="recipe-meta">
        <span class="difficulty-label">난이도:</span>
        <span class="difficulty-value">{{ recipe.difficulty }}</span>
    </div>
    
    {% if recipe.image %}
    <div class="recipe-image-wrapper">
        <img src="{{ recipe.image.url }}" alt="{{ recipe.title }}" class="recipe-detail-img">
    </div>
    {% endif %}

    <section class="recipe-section description-box">
        <h3>요리 설명</h3>
        <div class="content-text">
            {{ recipe.description|linebreaks }}
        </div>
    </section>

    <section class="recipe-section ingredients-box">
        <h3>필요한 재료</h3>
        <div class="content-text">
            {{ recipe.ingredients|linebreaks }}
        </div>
    </section>

    <section class="recipe-section steps-box">
        <h3>조리 순서</h3>
        <div class="content-text cooking-steps">
            {{ recipe.cooking_step|linebreaks }}
        </div>
    </section>

    <div class="detail-actions">
        <a href="{% url 'my_recipe:recipe_list' %}" class="btn-back">목록으로 돌아가기</a>
        
        {% if recipe.user == request.user or not recipe.user %}
            <div class="owner-actions" style="display: inline-block; margin-left: 10px;">
                <a href="{% url 'my_recipe:recipe_edit' recipe.pk %}" class="btn-edit" style="text-decoration: none; padding: 10px 20px; background-color: #ffc107; color: black; border-radius: 5px; margin-right: 5px;">수정하기</a>
                
                <form action="{% url 'my_recipe:recipe_delete' recipe.pk %}" method="post" style="display: inline;">
                    {% csrf_token %}
                    <button type="submit" class="btn-delete" onclick="return confirm('정말 삭제하시겠습니까?');" style="padding: 10px 20px; background-color: #dc3545; color: white; border: none; border-radius: 5px; cursor: pointer;">삭제하기</button>
                </form>
            </div>
        {% endif %}
    </div>
</div>
{% endblock %}
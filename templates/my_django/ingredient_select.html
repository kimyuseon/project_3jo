{% load static %}
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{% static 'css/my_django.css' %}">
    <title>재료 선택</title>
</head>
<body class="select-page">
    <div class="container">
        <header class="select-header">
            <a href="{% url 'my_django:fridge_main' %}" class="close-btn">✕</a>
            <h2 class="title-text">재료 폴더 선택</h2>
        </header>

        <div class="category-scroll-wrapper">
            {% for category in sample_data.keys %}
                <div class="category-tab {% if forloop.first %}active{% endif %}" 
                     onclick="openTab(event, 'tab-{{ forloop.counter }}')">
                    {{ category }}
                </div>
            {% endfor %}
        </div>

        <div class="ingredient-content">
            {% for category, items in sample_data.items %}
                <div id="tab-{{ forloop.counter }}" class="ingredient-panel {% if forloop.first %}show{% endif %}">
                    <div class="ingredient-grid">
                        {% for item in items %}
                            <div class="ingredient-card">
                                <div class="ingredient-icon-box">
                                    <img src="{% static 'images/' %}{{ item }}.png" 
                                         alt="{{ item }}" 
                                         class="ingredient-img"
                                         onerror="this.src='{% static 'images/default.png' %}';">
                                </div>
                                <span class="ingredient-name">{{ item }}</span>
                                <button class="add-badge">+</button>
                            </div>
                        {% endfor %}
                    </div>
                </div>
            {% endfor %}
        </div>
    </div>

    <script>
        function openTab(evt, tabId) {
            const panels = document.querySelectorAll('.ingredient-panel');
            const tabs = document.querySelectorAll('.category-tab');
            panels.forEach(p => p.classList.remove('show'));
            tabs.forEach(t => t.classList.remove('active'));
            document.getElementById(tabId).classList.add('show');
            evt.currentTarget.classList.add('active');
        }
    </script>
</body>
</html>
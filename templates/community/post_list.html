{% extends "base.html" %}
{% load static %}

{% block content %}
<style>
    /* ë¶€ëª¨ ì»¨í…Œì´ë„ˆê°€ ì¡ê³  ìˆëŠ” ì—¬ë°±ì„ ê°•ì œë¡œ ë¬´ì‹œí•˜ê³  í™”ë©´ ëê¹Œì§€ ë„“íˆê¸° */
    #full-width-wrapper {
        width: 100vw;       
        position: relative;
        left: 50%;
        right: 50%;
        margin-left: -50vw;
        margin-right: -50vw;
        background: #f8f9fa; 
        padding: 40px 0;    
    }

    .post-grid {
        display: grid;
        /* ìœ ì„ ë‹˜ì´ ì›í•˜ì‹  í•œ ì¤„ì— 3ê°œ! */
        grid-template-columns: repeat(3, 1fr); 
        gap: 25px;         /* 3ê°œì¼ ë•ŒëŠ” ê°„ê²©ì´ ë„ˆë¬´ ë„“ìœ¼ë©´ ì–´ìƒ‰í•´ì„œ ì‚´ì§ ì¤„ì˜€ì–´ìš” */
        width: 96%;        /* ì–‘ì˜† ì—¬ë°±ì„ ë” ì¤„ì—¬ì„œ ê½‰ ì°¨ê²Œ! */
        margin: 0 auto;
    }

    .post-card {
        background: white;
        border-radius: 20px;
        overflow: hidden;
        box-shadow: 0 10px 30px rgba(0,0,0,0.08);
        cursor: pointer;
        transition: transform 0.2s; /* ë§ˆìš°ìŠ¤ ì˜¬ë ¸ì„ ë•Œ íš¨ê³¼ */
    }

    .post-card:hover {
        transform: translateY(-5px); /* ì‚´ì§ ë– ì˜¤ë¥´ëŠ” ëŠë‚Œ */
    }
</style>

<div id="full-width-wrapper">
    <div id="post-list-container">
        <div style="width: 96%; margin: 0 auto 30px; display: flex; justify-content: space-between; align-items: center;">
            <h2 style="font-size: 32px; font-weight: 800; color: #333;">ë ˆì‹œí”¼ ì»¤ë®¤ë‹ˆí‹° ğŸ‘¥</h2>
 

                <a href="{% url 'community:post_add' %}" 
                   style="background: #ff6b6b; color: white; text-decoration: none; padding: 12px 25px; border-radius: 35px; font-weight: bold; font-size: 16px;">
                   ìƒˆ ê¸€ ì‘ì„± âœï¸
                </a>
            </div>
        </div>

        <div class="post-grid">
            {% for post in posts %}
                <div class="post-card" onclick="location.href='{% url 'community:post_detail' post.id %}'">
                    <div style="width: 100%; aspect-ratio: 16 / 10; background: #eee;">
                        {% if post.thumbnail %}
                            <img src="{{ post.thumbnail.url }}" style="width: 100%; height: 100%; object-fit: cover;">
                        {% else %}
                            <div style="height: 100%; display: flex; align-items: center; justify-content: center; color: #ccc;">No Image</div>
                        {% endif %}
                    </div>
                    
                    <div style="padding: 25px;">
                        <h3 style="font-size: 22px; margin-bottom: 12px; font-weight: 700; color: #222;">{{ post.title }}</h3>
                        <p style="color: #666; font-size: 15px; line-height: 1.6; height: 48px; overflow: hidden; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical;">
                            {{ post.content }}
                        </p>
                        
                        <div style="margin-top: 15px; padding-top: 15px; border-top: 1px solid #f1f1f1; display: flex; justify-content: space-between; font-size: 13px; color: #999;">
                            <span>ğŸ‘¤ {{ post.author.username|default:"ìµëª…" }}</span>
                            <span style="color: #ff6b6b; font-weight: bold;">ğŸ’¬ {{ post.comment_set.count }}</span>
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
    </div>
</div>
{% endblock %}